{% set name = "fluidsim" %}
{% set version = "0.3.3" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/fluidsim-{{ version }}.tar.gz
  sha256: addb6c80e7321fb7a10a49cdfc6fcf31056e57347d548272bcebb8eca46ce311

build:
  number: 0
  noarch: python
  entry_points:
    - fluidsim = fluidsim.util.console.__main__:run
    - fluidsim-test = fluidsim.util.testing:run
    - fluidsim-create-xml-description = fluidsim.base.output:run
    - fluidsim-profile = fluidsim.util.console.__main__:run_profile
    - fluidsim-bench = fluidsim.util.console.__main__:run_bench
    - fluidsim-bench-analysis = fluidsim.util.console.__main__:run_bench_analysis
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - pip
    - python >=3.6
    - pythran >=0.9.7
  run:
    - fluiddyn >=0.3.2
    - h5netcdf
    - h5py
    - python >=3.6
    - setuptools_scm
    - transonic >=0.4.3
    - xarray

test:
  imports:
    - fluidsim
    - fluidsim.base
  commands:
    - pip check
    - fluidsim --help
    - fluidsim-test --help
    - fluidsim-create-xml-description --help
    - fluidsim-profile --help
    - fluidsim-bench --help
    - fluidsim-bench-analysis --help
  requires:
    - pip

about:
  home: https://foss.heptapod.net/fluiddyn/fluidsim
  summary: Framework for studying fluid dynamics with simulations.
  doc_url: https://pythonhosted.org/fluidsim/
  license: LGPL-2.1
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - CyrilleBonamy
    - paugier
